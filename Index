<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logcomex buyer information</title>
</head>
<body>
    <h1>Logcomex buyer searching</h1>
    
    <!-- 검색 입력 필드 -->
    <input type="text" id="searchInput" placeholder="검색할 값 입력">
    <!-- 검색 버튼 -->
    <button onclick="searchData()">검색</button>
    
    <!-- 그래프를 표시할 컨테이너 -->
    <div id="graphContainer"></div>

    <!-- 검색과 시각화를 처리하는 스크립트 -->
    <script>
        function searchData() {
            // 입력된 값을 가져옴
            var searchValue = document.getElementById('searchInput').value;
            
            // Python 스크립트를 호출하여 데이터를 검색하고 시각화함
            fetch('/search', {
                method: 'POST',
                body: JSON.stringify({ searchValue: searchValue }),
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                // 생성된 그래프 이미지의 경로를 이용하여 그래프 컨테이너를 업데이트함
                document.getElementById('graphContainer').innerHTML = '<img src="' + data.graphPath + '" alt="Graph">';
            })
            .catch(error => console.error('Error:', error));
        }
    </script>

    <!-- Python 스크립트 (예: visualize_data.py) -->
    <script>
        // Python 스크립트 (예: visualize_data.py)
        // 이 스크립트는 서버 측에서 실행됨
        // 데이터 검색 및 시각화 로직이 포함되어 있어야 함
        // 아래에 예시 코드가 포함되어 있음

        function search_and_visualize_data(search_value) {
            // 예시 검색 및 시각화 로직 (사용자 정의로 대체해야 함)
            var searched_data = [
                { x_column: 'A', y_column: 10 },
                { x_column: 'B', y_column: 20 },
                { x_column: 'C', y_column: 15 }
            ];

            // 데이터 시각화 (사용자 정의로 대체해야 함)
            var graph_path = 'graph.png'; // 생성된 그래프 이미지의 경로
            return { graphPath: graph_path };
        }
    </script>
</body>
</html>
